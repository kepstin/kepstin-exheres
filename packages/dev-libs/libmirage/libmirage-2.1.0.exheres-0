# Copyright 2009 Daniel Mierswa <impulze@impulze.org>
# Copyright 2013 Calvin Walton <calvin.walton@kepstin.ca>
# Distributed under the terms of the GNU General Public License v2

PLATFORMS="~amd64 ~x86"

SUMMARY="A CD-ROM image access library."
DESCRIPTION="
    CD-ROM image access library which aims to provide uniform access to the data stored in various image formats.
    * Disc layout representation via GObject-based objects representing disc, session, track, language, index, etc.
    * Support for both CD-ROM and DVD-ROM images
    * CD-TEXT, ISRC, MCN and DVD-ROM disc structures support
    * Capable of generating information not provided by image file; for instance, if image provides only user data, sync pattern, header, ECC/EDC codes and subchannel are generated on fly when they are attempted to be accessed.
    * Plug-in based system that allows simple addition of new image format parsers or data-file access fragments.
    * Various utility functions for converting address from/to LBA and MSF, interleaving and deinterleaving subchannel data, ECC/EDC generation, etc.
"

LICENCES="GPL-2"
HOMEPAGE="http://cdemu.sourceforge.net/about/${PN}"
UPSTREAM_DOCUMENTATION="http://cdemu.sourceforge.net/reference/index.html [[ description = [ API reference ] ]]"
REMOTE_IDS="sourceforge:cdemu freecode:cdemu"

DOWNLOADS="mirror://sourceforge/cdemu/${PNV}.tar.bz2"

MYOPTIONS="doc [[ description = [ API reference ] ]]"

SLOT="0"

DEPENDENCIES="
    build:
        dev-util/pkg-config
        doc? ( dev-doc/gtk-doc )
    build+run:
        dev-libs/glib[>=2.6]
        media-libs/libsndfile[>=1.0.0]
        sys-libs/zlib
    run:
        !app-emulation/cdemu[<2.0.0]
        !app-emulation/cdemud[<2.0.0]
"

DEFAULT_SRC_CONFIGURE_OPTION_ENABLES+=( 'doc gtk-doc' )
