# Copyright 2009 Marvin Schmidt <marv@exherbo.org>
# Distributed under the terms of the GNU General Public License v2

require python [ python_dep=2.3.5 ]

SUMMARY="Python bindings for libnotify"
HOMEPAGE="http://www.galago-project.org"
DOWNLOADS="${HOMEPAGE}/files/releases/source/${PN}/${PNV}.tar.bz2"

LICENCES="LGPL-2.1"
SLOT="0"
PLATFORMS="~amd64 ~x86"
MYOPTIONS=""

DEPENDENCIES="
    build:
        dev-util/pkg-config
    build+run:
        gnome-bindings/pygtk:2[>=2.4.0]
        x11-libs/libnotify[>=0.4.3]
"

DEFAULT_SRC_CONFIGURE_PARAMS=( --hates=docdir )

src_prepare() {
    # libnotify-0.7 support from Gentoo patch
    expatch "${FILES}/${PN}-libnotify-0.7.patch"
    # regenerate pynotify.c as described on http://trac.galago-project.org/ticket/121
    edo rm -f src/pynotify.c
}

