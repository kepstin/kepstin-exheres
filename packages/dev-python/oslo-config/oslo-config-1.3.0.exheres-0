# Copyright 2014 <name>
# Distributed under the terms of the GNU General Public License v2

MY_PN=${PN/-/.}
MY_PNV=${MY_PN}-${PV}

require pypi [ pn=${MY_PN} pnv=${MY_PNV} ]
require setup-py [ import=setuptools work=${MY_PNV} ]

SUMMARY="Oslo Configuration API"
DESCRIPTION="
The Oslo configuration API supports parsing command line arguments and
.ini style configuration files.
"
HOMEPAGE="https://launchpad.net/oslo"

LICENCES="Apache-2.0"
SLOT="0"
PLATFORMS="~amd64"
MYOPTIONS=""

# With distro dependency handling, pip support is not needed.
# See http://docs.openstack.org/developer/pbr/packagers.html#dependencies
export SKIP_PIP_INSTALL=1

DEPENDENCIES="
    build:
        dev-python/pbr
    build+run:
        dev-python/six[>=1.5.2][python_abis:*(-)?]
    test:
"

setup-py_test_one_multibuild() {
    edo ${PYTHON} -B setup.py testr
}

