# Copyright 2014 Calvin Walton <calvin.walton@kepstin.ca>
# Distributed under the terms of the GNU General Public License v2

require setup-py [ import=distutils test=pytest blacklist=3 has_bin=true has_lib=true ]

SUMMARY="Tools and API for translation and localization engineering."
DESCRIPTION="
The Translate Toolkit is created by localizers for localizers. It
contains several utilities, as well as an API for building localization
tools.

Some of the tools include:

    File format converters
    Quality checking tools
    Tools for counting, grepping, terminology extraction, and
    pseudo-localization
"
HOMEPAGE="http://toolkit.translatehouse.org/"
DOWNLOADS="mirror://sourceforge/translate/Translate%20Toolkit/${PV}/${PNV}.tar.bz2"

LICENCES="GPL-2"
SLOT="0"
PLATFORMS="~amd64"

# Tests fail when run with build directory present, some require a svn repo?
RESTRICT="test"

DEPENDENCIES="
    build:
    build+run:
        dev-python/lxml[>=2.1.0][python_abis:*(-)?] [[ note = [ recommended ] ]]
    suggestion:
        dev-python/python-Levenshtein[>=0.10.2][python-abis:*(-)?] [[
            description = [ Faster matching in e.g. pot2po ]
            note = [ recommended ] ]]
        dev-python/iniparse[>=0.3.1][python_abis:*(-)?] [[
            description = [ Enable the ini2po converter ]
            note = [ optional ] ]]
        dev-python/vobject[>=0.6.6][python_abis:*(-)?] [[
            description = [ Enable the ical2po converter ]
            note = [ optional ] ]]
        dev-python/BeautifulSoup[>=3.2][python_abis:*(-)?] [[
            description = [ Support the Trados TM (translation memory) format ]
            note = [ optional ] ]]
        dev-python/aeidon[>=0.14][python_abis:*(-)?] [[
            description = [ Support translating video subtitle formats ]
            note = [ optional ] ]]
"

